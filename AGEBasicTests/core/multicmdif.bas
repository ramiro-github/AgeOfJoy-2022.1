10 LET FLAG = 0
20 LET A = 0
30 GOSUB 1000
40 IF A != 3001 THEN LET ERROR = "ERROR 0": END

50 LET FLAG = 1
60 GOSUB 1000
70 IF A != 4002 THEN LET ERROR = "ERROR 1": END

80 LET FLAG = 2
90 GOSUB 1000
100 IF A != 5000 THEN LET ERROR = "ERROR 2": END

110 LET FLAG = 1000
120 GOSUB 1000
130 IF A != 1000 THEN LET ERROR = "ERROR ELSE": END

500 END

1000 IF FLAG = 0 THEN LET A = 3000: GOSUB 2000: RETURN
     ELSE IF FLAG = 1 THEN LET A = 4000: GOSUB 2000: GOSUB 2000: GOTO 1010
     ELSE IF FLAG = 2 THEN LET A = 5000
     ELSE LET A = 6000: GOSUB 2000: GOSUB 2000: GOSUB 2000: 
                    IF A=6003 THEN LET A=1000 ELSE LET A = -1
1010 RETURN
2000 LET A = A + 1:RETURN